<html>

<head>
    <title>All Articles</title>
    <meta charset="utf-8">
    <script src="jquery.min.js"></script>
</head>

<body>
    <label>Порядок сортировки</label>
    <br />
    <input type="radio" id='rad1' name='rad' value="1" checked>Прямой</input>
    <br />
    <input type="radio" id='rad2' name='rad' value='2'>Обратный</input>
    <br />
    <input type="submit" value='Click me' id='1' onclick="getelements(this.id)"></input>
    <br />
    <a href="form.html">Создать статью</a>
</body>
<script>
    function getelements(i) {
        let str = `{\"sortOrder\":\"desc\",\"limit\":5, \"page\":${i} }`;
        if (document.getElementById("rad1").checked == true)
            str = `{\"sortOrder\":\"asc\",\"limit\":5, \"page\":${i}}`;
        document.body.innerHTML = '';
        document.write('<input type="radio" id=\'rad1\' name=\'rad\' value="1" checked>Прямой</input><br /><input type="radio" id=\'rad2\' name=\'rad\' value=\'2\'>Обратный</input><br />');
        $.post('/api/articles/readall', str, (data) => {
            data.items.forEach((element) => {
                document.write('<center><div class=\'article\'>');
                document.write('<div class=\'date\'>' + element.date + '</div>');
                document.write('<div class=\'title\'>' + element.title + '</div>');
                document.write('<div class=\'text\'>' + element.text + '</div>');
                document.write('<div class=\'author\'>' + element.author + '</div>');
                document.write('</div></center><br />');
            }, this);
            let numb = parseInt(data.meta.pages);
            for (let i = 1; i <= numb; ++i) {
                document.write('<input type= \"button\" onclick=\'getelements(this.id)\' id=\'' + i + '\'">' + i + '</input>');
            }
        });
    }
</script>

</html>